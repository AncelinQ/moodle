define("block_recentlyaccessedcourses/main",["jquery","core_course/repository","core/templates","core/notification","core/pubsub","core_course/events"],function(a,b,c,d,e,f){var g={COURSES_VIEW:"[data-region=\"recentlyaccessedcourses-view\"]",COURSES_VIEW_CONTENT:"[data-region=\"recentlyaccessedcourses-view-content\"]"},h=function(a,c){return b.getLastAccessedCourses(a,c)},i=function(a,b){if(0<b.length){return c.render("core_course/view-cards",{courses:b})}else{var d=a.attr("data-nocoursesimg");return c.render("block_recentlyaccessedcourses/no-courses",{nocoursesimg:d})}},j=function(a,b){var e=b.find(g.COURSES_VIEW),f=b.find(g.COURSES_VIEW_CONTENT),j=h(a,10);return j.then(function(a){var b=i(e,a);b.then(function(a,b){return c.replaceNodeContents(f,a,b)}).catch(d.exception);return j}).catch(d.exception)},k=function(a,b){e.subscribe(f.favourited,function(){j(a,b)});e.subscribe(f.unfavorited,function(){j(a,b)})};return{init:function d(b,c){c=a(c);k(b,c);j(b,c)}}});
//# sourceMappingURL=main.es6.js.map
