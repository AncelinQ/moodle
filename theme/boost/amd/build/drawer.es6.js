define("theme_boost/drawer",["jquery","core/custom_interaction_events","core/log"],function(a,b,c){var d={TOGGLE_REGION:"[data-region=\"drawer-toggle\"]",TOGGLE_ACTION:"[data-action=\"toggle-drawer\"]",TOGGLE_TARGET:"aria-controls",TOGGLE_SIDE:"left",BODY:"body",SECTION:".list-group-item[href*=\"#section-\"]"},f=768>a(document).width(),e=function(){if(!a(d.TOGGLE_REGION).length){c.debug("Page is missing a drawer region")}if(!a(d.TOGGLE_ACTION).length){c.debug("Page is missing a drawer toggle link")}a(d.TOGGLE_REGION).each(function(b,c){var e=a(c).find(d.TOGGLE_ACTION),g=e.attr("aria-controls"),h=a(document.getElementById(g)),i="false"==e.attr("aria-expanded"),j=e.attr("data-side"),k=a(d.BODY),l=e.attr("data-preference");if(f){M.util.set_user_preference(l,"false")}h.on("mousewheel DOMMouseScroll",this.preventPageScroll);if(!i){k.addClass("drawer-open-"+j);e.attr("aria-expanded","true")}else{e.attr("aria-expanded","false")}}.bind(this));this.registerEventListeners();if(f){this.closeAll()}};e.prototype.closeAll=function(){a(d.TOGGLE_REGION).each(function(b,c){var e=a(c).find(d.TOGGLE_ACTION),g=e.attr("data-side"),h=a(d.BODY),i=e.attr("aria-controls"),j=a(document.getElementById(i)),k=e.attr("data-preference");e.attr("aria-expanded","false");h.removeClass("drawer-open-"+g);j.attr("aria-hidden","true");j.addClass("closed");if(!f){M.util.set_user_preference(k,"false")}})};e.prototype.toggleDrawer=function(b){var c=a(b.target).closest("[data-action=toggle-drawer]"),e=c.attr("aria-controls"),g=a(document.getElementById(e)),h=a(d.BODY),i=c.attr("data-side"),j=c.attr("data-preference");if(f){M.util.set_user_preference(j,"false")}h.addClass("drawer-ease");var k="true"==c.attr("aria-expanded");if(!k){c.attr("aria-expanded","true");g.attr("aria-hidden","false");g.focus();h.addClass("drawer-open-"+i);g.removeClass("closed");if(!f){M.util.set_user_preference(j,"true")}}else{h.removeClass("drawer-open-"+i);c.attr("aria-expanded","false");g.attr("aria-hidden","true");g.addClass("closed");if(!f){M.util.set_user_preference(j,"false")}}};e.prototype.preventPageScroll=function(b){var c=b.wheelDelta||b.originalEvent&&b.originalEvent.wheelDelta||-b.originalEvent.detail,d=0<=this.scrollTop+a(this).outerHeight()-this.scrollHeight,e=0>=this.scrollTop;if(0>c&&d||0<c&&e){b.preventDefault()}};e.prototype.registerEventListeners=function(){a(d.TOGGLE_ACTION).each(function(c,d){b.define(a(d),[b.events.activate]);a(d).on(b.events.activate,function(a,b){this.toggleDrawer(b.originalEvent);b.originalEvent.preventDefault()}.bind(this))}.bind(this));a(d.SECTION).click(function(){if(f){this.closeAll()}}.bind(this))};return{init:function a(){return new e}}});
//# sourceMappingURL=drawer.es6.js.map
