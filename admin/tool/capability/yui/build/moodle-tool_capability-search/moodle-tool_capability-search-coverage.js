if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['admin/tool/capability/yui/build/moodle-tool_capability-search/moodle-tool_capability-search.js']) {
   __coverage__['admin/tool/capability/yui/build/moodle-tool_capability-search/moodle-tool_capability-search.js'] = {"path":"admin/tool/capability/yui/build/moodle-tool_capability-search/moodle-tool_capability-search.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":41},"end":{"line":1,"column":60}}},"2":{"name":"(anonymous_2)","line":17,"loc":{"start":{"line":17,"column":13},"end":{"line":17,"column":24}}},"3":{"name":"(anonymous_3)","line":68,"loc":{"start":{"line":68,"column":18},"end":{"line":68,"column":29}}},"4":{"name":"(anonymous_4)","line":72,"loc":{"start":{"line":72,"column":40},"end":{"line":72,"column":57}}},"5":{"name":"(anonymous_5)","line":105,"loc":{"start":{"line":105,"column":15},"end":{"line":105,"column":26}}},"6":{"name":"(anonymous_6)","line":113,"loc":{"start":{"line":113,"column":12},"end":{"line":113,"column":23}}},"7":{"name":"(anonymous_7)","line":160,"loc":{"start":{"line":160,"column":43},"end":{"line":160,"column":61}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":165,"column":48}},"2":{"start":{"line":17,"column":0},"end":{"line":19,"column":2}},"3":{"start":{"line":18,"column":4},"end":{"line":18,"column":57}},"4":{"start":{"line":20,"column":0},"end":{"line":139,"column":2}},"5":{"start":{"line":69,"column":8},"end":{"line":69,"column":55}},"6":{"start":{"line":70,"column":8},"end":{"line":70,"column":70}},"7":{"start":{"line":71,"column":8},"end":{"line":71,"column":73}},"8":{"start":{"line":72,"column":8},"end":{"line":75,"column":17}},"9":{"start":{"line":73,"column":12},"end":{"line":73,"column":49}},"10":{"start":{"line":74,"column":12},"end":{"line":74,"column":52}},"11":{"start":{"line":76,"column":8},"end":{"line":76,"column":58}},"12":{"start":{"line":77,"column":8},"end":{"line":77,"column":62}},"13":{"start":{"line":79,"column":8},"end":{"line":80,"column":101}},"14":{"start":{"line":81,"column":8},"end":{"line":81,"column":82}},"15":{"start":{"line":83,"column":8},"end":{"line":83,"column":45}},"16":{"start":{"line":85,"column":8},"end":{"line":85,"column":42}},"17":{"start":{"line":86,"column":8},"end":{"line":86,"column":62}},"18":{"start":{"line":88,"column":8},"end":{"line":88,"column":49}},"19":{"start":{"line":89,"column":8},"end":{"line":89,"column":54}},"20":{"start":{"line":91,"column":8},"end":{"line":97,"column":9}},"21":{"start":{"line":92,"column":12},"end":{"line":92,"column":66}},"22":{"start":{"line":93,"column":12},"end":{"line":93,"column":25}},"23":{"start":{"line":94,"column":12},"end":{"line":96,"column":13}},"24":{"start":{"line":95,"column":16},"end":{"line":95,"column":94}},"25":{"start":{"line":99,"column":8},"end":{"line":99,"column":24}},"26":{"start":{"line":106,"column":8},"end":{"line":106,"column":71}},"27":{"start":{"line":114,"column":8},"end":{"line":117,"column":23}},"28":{"start":{"line":118,"column":8},"end":{"line":120,"column":9}},"29":{"start":{"line":119,"column":12},"end":{"line":119,"column":49}},"30":{"start":{"line":121,"column":8},"end":{"line":121,"column":43}},"31":{"start":{"line":122,"column":8},"end":{"line":128,"column":9}},"32":{"start":{"line":123,"column":12},"end":{"line":127,"column":13}},"33":{"start":{"line":124,"column":16},"end":{"line":124,"column":27}},"34":{"start":{"line":125,"column":16},"end":{"line":125,"column":54}},"35":{"start":{"line":126,"column":16},"end":{"line":126,"column":67}},"36":{"start":{"line":129,"column":8},"end":{"line":136,"column":9}},"37":{"start":{"line":130,"column":12},"end":{"line":130,"column":41}},"38":{"start":{"line":132,"column":12},"end":{"line":132,"column":44}},"39":{"start":{"line":133,"column":12},"end":{"line":135,"column":13}},"40":{"start":{"line":134,"column":16},"end":{"line":134,"column":43}},"41":{"start":{"line":137,"column":8},"end":{"line":137,"column":24}},"42":{"start":{"line":140,"column":0},"end":{"line":145,"column":3}},"43":{"start":{"line":152,"column":0},"end":{"line":152,"column":44}},"44":{"start":{"line":160,"column":0},"end":{"line":162,"column":2}},"45":{"start":{"line":161,"column":4},"end":{"line":161,"column":24}}},"branchMap":{"1":{"line":91,"type":"if","locations":[{"start":{"line":91,"column":8},"end":{"line":91,"column":8}},{"start":{"line":91,"column":8},"end":{"line":91,"column":8}}]},"2":{"line":94,"type":"if","locations":[{"start":{"line":94,"column":12},"end":{"line":94,"column":12}},{"start":{"line":94,"column":12},"end":{"line":94,"column":12}}]},"3":{"line":118,"type":"if","locations":[{"start":{"line":118,"column":8},"end":{"line":118,"column":8}},{"start":{"line":118,"column":8},"end":{"line":118,"column":8}}]},"4":{"line":123,"type":"if","locations":[{"start":{"line":123,"column":12},"end":{"line":123,"column":12}},{"start":{"line":123,"column":12},"end":{"line":123,"column":12}}]},"5":{"line":129,"type":"if","locations":[{"start":{"line":129,"column":8},"end":{"line":129,"column":8}},{"start":{"line":129,"column":8},"end":{"line":129,"column":8}}]},"6":{"line":133,"type":"if","locations":[{"start":{"line":133,"column":12},"end":{"line":133,"column":12}},{"start":{"line":133,"column":12},"end":{"line":133,"column":12}}]},"7":{"line":152,"type":"binary-expr","locations":[{"start":{"line":152,"column":20},"end":{"line":152,"column":37}},{"start":{"line":152,"column":41},"end":{"line":152,"column":43}}]}},"code":["(function () { YUI.add('moodle-tool_capability-search', function (Y, NAME) {","","/**"," * This file contains the capability overview search functionality."," *"," * @module moodle-tool_capability-search"," */","","/**"," * Constructs a new capability search manager."," *"," * @namespace M.tool_capability.search"," * @class Search"," * @constructor"," * @extends Y.Base"," */","var SEARCH = function() {","    SEARCH.superclass.constructor.apply(this, arguments);","};","SEARCH.prototype = {","    /**","     * The search form.","     * @property form","     * @type Node","     * @protected","     */","    form : null,","    /**","     * The capability select node.","     * @property select","     * @type Node","     * @protected","     */","    select: null,","    /**","     * An associative array of search option. Populated from the select node above during initialisation.","     * @property selectoptions","     * @type Object","     * @protected","     */","    selectoptions : {},","    /**","     * The search input field.","     * @property input","     * @type Node","     * @protected","     */","    input: null,","    /**","     * The submit button for the form.","     * @property button","     * @type Node","     * @protected","     */","    button: null,","    /**","     * The last search node if there is one.","     * If there is a last search node then the last search term will be persisted between requests.","     * @property lastsearch","     * @type Node","     * @protected","     */","    lastsearch : null,","    /**","     * Constructs the search manager.","     * @method initializer","     */","    initializer : function() {","        this.form = Y.one('#capability-overview-form');","        this.select = this.form.one('select[data-search=capability]');","        this.select.setStyle('minWidth', this.select.get('offsetWidth'));","        this.select.get('options').each(function(option) {","            var capability = option.get('value');","            this.selectoptions[capability] = option;","        }, this);","        this.button = this.form.all('input[type=submit]');","        this.lastsearch = this.form.one('input[name=search]');","","        var div = Y.Node.create('<div id=\"capabilitysearchui\"></div>'),","            label = Y.Node.create('<label for=\"capabilitysearch\">'+this.get('strsearch')+'</label>');","        this.input = Y.Node.create('<input type=\"text\" id=\"capabilitysearch\" />');","","        div.append(label).append(this.input);","","        this.select.insert(div, 'before');","        this.select.one('option').setStyle('display', 'none');","","        this.input.on('keyup', this.typed, this);","        this.select.on('change', this.validate, this);","","        if (this.lastsearch) {","            this.input.set('value', this.lastsearch.get('value'));","            this.typed();","            if (this.select.one('option[selected]')) {","                this.select.set('scrollTop', this.select.one('option[selected]').get('getX'));","            }","        }","","        this.validate();","    },","    /**","     * Disables the submit button if there are no capabilities selected.","     * @method validate","     */","    validate : function() {","        this.button.set('disabled', (this.select.get('value') === ''));","    },","    /**","     * Called when ever the user types into the search field.","     * This method hides any capabilities that don't match the search term.","     * @method typed","     */","    typed : function() {","        var search = this.input.get('value'),","            matching = 0,","            last = null,","            capability;","        if (this.lastsearch) {","            this.lastsearch.set('value', search);","        }","        this.select.all('option').remove();","        for (capability in this.selectoptions) {","            if (capability.indexOf(search) >= 0) {","                matching++;","                last = this.selectoptions[capability];","                this.select.append(this.selectoptions[capability]);","            }","        }","        if (matching === 0) {","            this.input.addClass(\"error\");","        } else {","            this.input.removeClass(\"error\");","            if (matching === 1) {","                last.set('selected', true);","            }","        }","        this.validate();","    }","};","Y.extend(SEARCH, Y.Base, SEARCH.prototype, {","    NAME : 'tool_capability-search',","    ATTRS : {","        strsearch : {}","    }","});","","/**"," * Core namespace."," * @static"," * @class tool_capability"," */","M.tool_capability = M.tool_capability || {};","","/**"," * Initialises capability search functionality."," * @static"," * @method init_capability_search"," * @param {Object} options"," */","M.tool_capability.init_capability_search = function(options) {","    new SEARCH(options);","};","","","}, '@VERSION@', {\"requires\": [\"base\", \"node\"]});","","}());"]};
}
var __cov_6w1SBpPeYgrAPEcNVRnI7A = __coverage__['admin/tool/capability/yui/build/moodle-tool_capability-search/moodle-tool_capability-search.js'];
__cov_6w1SBpPeYgrAPEcNVRnI7A.s['1']++;YUI.add('moodle-tool_capability-search',function(Y,NAME){__cov_6w1SBpPeYgrAPEcNVRnI7A.f['1']++;__cov_6w1SBpPeYgrAPEcNVRnI7A.s['2']++;var SEARCH=function(){__cov_6w1SBpPeYgrAPEcNVRnI7A.f['2']++;__cov_6w1SBpPeYgrAPEcNVRnI7A.s['3']++;SEARCH.superclass.constructor.apply(this,arguments);};__cov_6w1SBpPeYgrAPEcNVRnI7A.s['4']++;SEARCH.prototype={form:null,select:null,selectoptions:{},input:null,button:null,lastsearch:null,initializer:function(){__cov_6w1SBpPeYgrAPEcNVRnI7A.f['3']++;__cov_6w1SBpPeYgrAPEcNVRnI7A.s['5']++;this.form=Y.one('#capability-overview-form');__cov_6w1SBpPeYgrAPEcNVRnI7A.s['6']++;this.select=this.form.one('select[data-search=capability]');__cov_6w1SBpPeYgrAPEcNVRnI7A.s['7']++;this.select.setStyle('minWidth',this.select.get('offsetWidth'));__cov_6w1SBpPeYgrAPEcNVRnI7A.s['8']++;this.select.get('options').each(function(option){__cov_6w1SBpPeYgrAPEcNVRnI7A.f['4']++;__cov_6w1SBpPeYgrAPEcNVRnI7A.s['9']++;var capability=option.get('value');__cov_6w1SBpPeYgrAPEcNVRnI7A.s['10']++;this.selectoptions[capability]=option;},this);__cov_6w1SBpPeYgrAPEcNVRnI7A.s['11']++;this.button=this.form.all('input[type=submit]');__cov_6w1SBpPeYgrAPEcNVRnI7A.s['12']++;this.lastsearch=this.form.one('input[name=search]');__cov_6w1SBpPeYgrAPEcNVRnI7A.s['13']++;var div=Y.Node.create('<div id="capabilitysearchui"></div>'),label=Y.Node.create('<label for="capabilitysearch">'+this.get('strsearch')+'</label>');__cov_6w1SBpPeYgrAPEcNVRnI7A.s['14']++;this.input=Y.Node.create('<input type="text" id="capabilitysearch" />');__cov_6w1SBpPeYgrAPEcNVRnI7A.s['15']++;div.append(label).append(this.input);__cov_6w1SBpPeYgrAPEcNVRnI7A.s['16']++;this.select.insert(div,'before');__cov_6w1SBpPeYgrAPEcNVRnI7A.s['17']++;this.select.one('option').setStyle('display','none');__cov_6w1SBpPeYgrAPEcNVRnI7A.s['18']++;this.input.on('keyup',this.typed,this);__cov_6w1SBpPeYgrAPEcNVRnI7A.s['19']++;this.select.on('change',this.validate,this);__cov_6w1SBpPeYgrAPEcNVRnI7A.s['20']++;if(this.lastsearch){__cov_6w1SBpPeYgrAPEcNVRnI7A.b['1'][0]++;__cov_6w1SBpPeYgrAPEcNVRnI7A.s['21']++;this.input.set('value',this.lastsearch.get('value'));__cov_6w1SBpPeYgrAPEcNVRnI7A.s['22']++;this.typed();__cov_6w1SBpPeYgrAPEcNVRnI7A.s['23']++;if(this.select.one('option[selected]')){__cov_6w1SBpPeYgrAPEcNVRnI7A.b['2'][0]++;__cov_6w1SBpPeYgrAPEcNVRnI7A.s['24']++;this.select.set('scrollTop',this.select.one('option[selected]').get('getX'));}else{__cov_6w1SBpPeYgrAPEcNVRnI7A.b['2'][1]++;}}else{__cov_6w1SBpPeYgrAPEcNVRnI7A.b['1'][1]++;}__cov_6w1SBpPeYgrAPEcNVRnI7A.s['25']++;this.validate();},validate:function(){__cov_6w1SBpPeYgrAPEcNVRnI7A.f['5']++;__cov_6w1SBpPeYgrAPEcNVRnI7A.s['26']++;this.button.set('disabled',this.select.get('value')==='');},typed:function(){__cov_6w1SBpPeYgrAPEcNVRnI7A.f['6']++;__cov_6w1SBpPeYgrAPEcNVRnI7A.s['27']++;var search=this.input.get('value'),matching=0,last=null,capability;__cov_6w1SBpPeYgrAPEcNVRnI7A.s['28']++;if(this.lastsearch){__cov_6w1SBpPeYgrAPEcNVRnI7A.b['3'][0]++;__cov_6w1SBpPeYgrAPEcNVRnI7A.s['29']++;this.lastsearch.set('value',search);}else{__cov_6w1SBpPeYgrAPEcNVRnI7A.b['3'][1]++;}__cov_6w1SBpPeYgrAPEcNVRnI7A.s['30']++;this.select.all('option').remove();__cov_6w1SBpPeYgrAPEcNVRnI7A.s['31']++;for(capability in this.selectoptions){__cov_6w1SBpPeYgrAPEcNVRnI7A.s['32']++;if(capability.indexOf(search)>=0){__cov_6w1SBpPeYgrAPEcNVRnI7A.b['4'][0]++;__cov_6w1SBpPeYgrAPEcNVRnI7A.s['33']++;matching++;__cov_6w1SBpPeYgrAPEcNVRnI7A.s['34']++;last=this.selectoptions[capability];__cov_6w1SBpPeYgrAPEcNVRnI7A.s['35']++;this.select.append(this.selectoptions[capability]);}else{__cov_6w1SBpPeYgrAPEcNVRnI7A.b['4'][1]++;}}__cov_6w1SBpPeYgrAPEcNVRnI7A.s['36']++;if(matching===0){__cov_6w1SBpPeYgrAPEcNVRnI7A.b['5'][0]++;__cov_6w1SBpPeYgrAPEcNVRnI7A.s['37']++;this.input.addClass('error');}else{__cov_6w1SBpPeYgrAPEcNVRnI7A.b['5'][1]++;__cov_6w1SBpPeYgrAPEcNVRnI7A.s['38']++;this.input.removeClass('error');__cov_6w1SBpPeYgrAPEcNVRnI7A.s['39']++;if(matching===1){__cov_6w1SBpPeYgrAPEcNVRnI7A.b['6'][0]++;__cov_6w1SBpPeYgrAPEcNVRnI7A.s['40']++;last.set('selected',true);}else{__cov_6w1SBpPeYgrAPEcNVRnI7A.b['6'][1]++;}}__cov_6w1SBpPeYgrAPEcNVRnI7A.s['41']++;this.validate();}};__cov_6w1SBpPeYgrAPEcNVRnI7A.s['42']++;Y.extend(SEARCH,Y.Base,SEARCH.prototype,{NAME:'tool_capability-search',ATTRS:{strsearch:{}}});__cov_6w1SBpPeYgrAPEcNVRnI7A.s['43']++;M.tool_capability=(__cov_6w1SBpPeYgrAPEcNVRnI7A.b['7'][0]++,M.tool_capability)||(__cov_6w1SBpPeYgrAPEcNVRnI7A.b['7'][1]++,{});__cov_6w1SBpPeYgrAPEcNVRnI7A.s['44']++;M.tool_capability.init_capability_search=function(options){__cov_6w1SBpPeYgrAPEcNVRnI7A.f['7']++;__cov_6w1SBpPeYgrAPEcNVRnI7A.s['45']++;new SEARCH(options);};},'@VERSION@',{'requires':['base','node']});
