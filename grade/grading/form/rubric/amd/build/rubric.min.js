define ("gradingform_rubric/rubric",["exports"],function(a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.init=void 0;a.init=function init(a){var d=document.getElementById(a);c(d);b(d)};var b=function(a){a.querySelectorAll(".criterion").forEach(function(a){if(!a.querySelector("[tabindex=\"0\"]")){a.querySelector(".level").setAttribute("tabindex",0)}})},c=function(a){a.addEventListener("click",function(a){var b=a.target.closest(".level");if(b){d(b)}});a.addEventListener("keydown",function(a){var b=a.target;if(!b.matches(".level")){return}var c=b.closest(".level"),e=b.closest(".criterion").querySelectorAll(".level"),f=Array.from(e).indexOf(c),g=e.length-1,h=f;if(38===a.keyCode){h--;a.preventDefault()}else if(40===a.keyCode){h++;a.preventDefault()}if(0>h){h=g}else if(h>g){h=0}d(e[h])})},d=function(a){var b=a.closest(".level");a.closest(".criterion").querySelectorAll(".level").forEach(function(a){var c=a.querySelector("input[type=radio]");if(a.isEqualNode(b)){a.classList.add("checked");a.setAttribute("aria-checked","true");a.setAttribute("tabindex",0);c.setAttribute("checked","true");a.focus()}else{a.classList.remove("checked");a.setAttribute("aria-checked","false");a.setAttribute("tabindex",-1);c.removeAttribute("checked")}})}});
//# sourceMappingURL=rubric.min.js.map
