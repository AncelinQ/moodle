define ("core_user/unified_filter",["jquery","core/form-autocomplete","core/str","core/notification","core/pending"],function(a,b,c,d,e){var f={UNIFIED_FILTERS:"#unified-filters"},g=function init(){M.util.js_pending("unified_filter_datasource");c.get_strings([{key:"userfilterplaceholder",component:"moodle"},{key:"nofiltersapplied",component:"moodle"}]).done(function(a){var c=a[0],e=a[1];b.enhance(f.UNIFIED_FILTERS,!0,"core_user/unified_filter_datasource",c,!1,!0,e,!0).then(function(){M.util.js_complete("unified_filter_datasource")}).fail(d.exception)}).fail(d.exception);var g=a(f.UNIFIED_FILTERS).val();a(f.UNIFIED_FILTERS).on("change",function(){var b=a(this).val(),c=[],d=[],f=!1;a.each(b,function(a,b){var e=b.split(":",2);if(2!==e.length){d.push(b);return!0}var g=e[0],h=e[1];if("undefined"!=typeof c[g]){f=!0}c[g]=h;return!0});if(f){var h=[];for(var i in c){h.push(i+":"+c[i])}h=h.concat(d);a(this).val(h)}if(g.join(",")!=b.join(",")){new e("core_user/unified_filter:submit");this.form.submit()}})},h=function getForm(){return a(f.UNIFIED_FILTERS).closest("form")};return{init:function init(){g()},getForm:function getForm(){return h()}}});
//# sourceMappingURL=unified_filter.min.js.map
