{"version":3,"sources":["../src/message_drawer.js"],"names":["define","$","CustomEvents","PubSub","ViewContact","ViewContacts","ViewConversation","ViewGroupInfo","ViewOverview","ViewSearch","ViewSettings","Router","Routes","Events","SELECTORS","VIEW_CONTACT","VIEW_CONTACTS","VIEW_CONVERSATION","VIEW_GROUP_INFO","VIEW_OVERVIEW","VIEW_SEARCH","VIEW_SETTINGS","ROUTES","ROUTES_BACK","HEADER_CONTAINER","BODY_CONTAINER","FOOTER_CONTAINER","getElementsForRoute","root","selector","candidates","children","header","filter","find","body","footer","elements","element","length","routes","show","description","createRoutes","forEach","route","add","attr","go","removeClass","hide","addClass","isVisible","hasClass","registerEventListeners","events","activate","paramRegex","on","e","data","target","closest","attributes","i","push","paramAttributes","attribute","name","nodeName","match","test","sort","a","b","aParts","exec","bParts","aIndex","bIndex","params","map","nodeValue","routeParams","concat","apply","originalEvent","preventDefault","back","subscribe","SHOW","HIDE","TOGGLE_VISIBILITY","SHOW_CONVERSATION","conversationId","CREATE_CONVERSATION_WITH_USER","userId","SHOW_SETTINGS","PREFERENCES_UPDATED","preferences","filteredPreferences","preference","type","enterToSendPreference","viewConversationFooter","value","init"],"mappings":"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","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Controls the message drawer.\n *\n * @module     core_message/message_drawer\n * @copyright  2018 Ryan Wyllie <ryan@moodle.com>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine(\n[\n    'jquery',\n    'core/custom_interaction_events',\n    'core/pubsub',\n    'core_message/message_drawer_view_contact',\n    'core_message/message_drawer_view_contacts',\n    'core_message/message_drawer_view_conversation',\n    'core_message/message_drawer_view_group_info',\n    'core_message/message_drawer_view_overview',\n    'core_message/message_drawer_view_search',\n    'core_message/message_drawer_view_settings',\n    'core_message/message_drawer_router',\n    'core_message/message_drawer_routes',\n    'core_message/message_drawer_events'\n],\nfunction(\n    $,\n    CustomEvents,\n    PubSub,\n    ViewContact,\n    ViewContacts,\n    ViewConversation,\n    ViewGroupInfo,\n    ViewOverview,\n    ViewSearch,\n    ViewSettings,\n    Router,\n    Routes,\n    Events\n) {\n\n    var SELECTORS = {\n        VIEW_CONTACT: '[data-region=\"view-contact\"]',\n        VIEW_CONTACTS: '[data-region=\"view-contacts\"]',\n        VIEW_CONVERSATION: '[data-region=\"view-conversation\"]',\n        VIEW_GROUP_INFO: '[data-region=\"view-group-info\"]',\n        VIEW_OVERVIEW: '[data-region=\"view-overview\"]',\n        VIEW_SEARCH: '[data-region=\"view-search\"]',\n        VIEW_SETTINGS: '[data-region=\"view-settings\"]',\n        ROUTES: '[data-route]',\n        ROUTES_BACK: '[data-route-back]',\n        HEADER_CONTAINER: '[data-region=\"header-container\"]',\n        BODY_CONTAINER: '[data-region=\"body-container\"]',\n        FOOTER_CONTAINER: '[data-region=\"footer-container\"]',\n    };\n\n    /**\n     * Get elements for route.\n     *\n     * @param {Object} root The message drawer container.\n     * @param {string} selector The route container.\n     *\n     * @return {array} elements Found route container objects.\n    */\n    var getElementsForRoute = function(root, selector) {\n        var candidates = root.children();\n        var header = candidates.filter(SELECTORS.HEADER_CONTAINER).find(selector);\n        var body = candidates.filter(SELECTORS.BODY_CONTAINER).find(selector);\n        var footer = candidates.filter(SELECTORS.FOOTER_CONTAINER).find(selector);\n        var elements = [header, body, footer].filter(function(element) {\n            return element.length;\n        });\n\n        return elements;\n    };\n\n    var routes = [\n        [Routes.VIEW_CONTACT, SELECTORS.VIEW_CONTACT, ViewContact.show, ViewContact.description],\n        [Routes.VIEW_CONTACTS, SELECTORS.VIEW_CONTACTS, ViewContacts.show, ViewContacts.description],\n        [Routes.VIEW_CONVERSATION, SELECTORS.VIEW_CONVERSATION, ViewConversation.show, ViewConversation.description],\n        [Routes.VIEW_GROUP_INFO, SELECTORS.VIEW_GROUP_INFO, ViewGroupInfo.show, ViewGroupInfo.description],\n        [Routes.VIEW_OVERVIEW, SELECTORS.VIEW_OVERVIEW, ViewOverview.show, ViewOverview.description],\n        [Routes.VIEW_SEARCH, SELECTORS.VIEW_SEARCH, ViewSearch.show, ViewSearch.description],\n        [Routes.VIEW_SETTINGS, SELECTORS.VIEW_SETTINGS, ViewSettings.show, ViewSettings.description],\n    ];\n\n    /**\n     * Create routes.\n     *\n     * @param {Object} root The message drawer container.\n     */\n    var createRoutes = function(root) {\n        routes.forEach(function(route) {\n            Router.add(route[0], getElementsForRoute(root, route[1]), route[2], route[3]);\n        });\n    };\n\n    /**\n     * Show the message drawer.\n     *\n     * @param {Object} root The message drawer container.\n     */\n    var show = function(root) {\n        if (!root.attr('data-shown')) {\n            Router.go(Routes.VIEW_OVERVIEW);\n            root.attr('data-shown', true);\n        }\n\n        root.removeClass('hidden');\n        root.attr('aria-expanded', true);\n        root.attr('aria-hidden', false);\n    };\n\n    /**\n     * Hide the message drawer.\n     *\n     * @param {Object} root The message drawer container.\n     */\n    var hide = function(root) {\n        root.addClass('hidden');\n        root.attr('aria-expanded', false);\n        root.attr('aria-hidden', true);\n    };\n\n    /**\n     * Check if the drawer is visible.\n     *\n     * @param {Object} root The message drawer container.\n     * @return {bool}\n     */\n    var isVisible = function(root) {\n        return !root.hasClass('hidden');\n    };\n\n    /**\n     * Listen to and handle events for routing, showing and hiding the message drawer.\n     *\n     * @param {Object} root The message drawer container.\n     */\n    var registerEventListeners = function(root) {\n        CustomEvents.define(root, [CustomEvents.events.activate]);\n        var paramRegex = /^data-route-param-?(\\d*)$/;\n\n        root.on(CustomEvents.events.activate, SELECTORS.ROUTES, function(e, data) {\n            var element = $(e.target).closest(SELECTORS.ROUTES);\n            var route = element.attr('data-route');\n            var attributes = [];\n\n            for (var i = 0; i < element[0].attributes.length; i++) {\n                attributes.push(element[0].attributes[i]);\n            }\n\n            var paramAttributes = attributes.filter(function(attribute) {\n                var name = attribute.nodeName;\n                var match = paramRegex.test(name);\n                return match;\n            });\n            paramAttributes.sort(function(a, b) {\n                var aParts = paramRegex.exec(a.nodeName);\n                var bParts = paramRegex.exec(b.nodeName);\n                var aIndex = aParts.length > 1 ? aParts[1] : 0;\n                var bIndex = bParts.length > 1 ? bParts[1] : 0;\n\n                if (aIndex < bIndex) {\n                    return -1;\n                } else if (bIndex < aIndex) {\n                    return 1;\n                } else {\n                    return 0;\n                }\n            });\n\n            var params = paramAttributes.map(function(attribute) {\n                return attribute.nodeValue;\n            });\n            var routeParams = [route].concat(params);\n\n            Router.go.apply(null, routeParams);\n\n            data.originalEvent.preventDefault();\n        });\n\n        root.on(CustomEvents.events.activate, SELECTORS.ROUTES_BACK, function(e, data) {\n            Router.back();\n\n            data.originalEvent.preventDefault();\n        });\n\n        PubSub.subscribe(Events.SHOW, function() {\n            show(root);\n        });\n\n        PubSub.subscribe(Events.HIDE, function() {\n            hide(root);\n        });\n\n        PubSub.subscribe(Events.TOGGLE_VISIBILITY, function() {\n            if (isVisible(root)) {\n                hide(root);\n            } else {\n                show(root);\n            }\n        });\n\n        PubSub.subscribe(Events.SHOW_CONVERSATION, function(conversationId) {\n            show(root);\n            Router.go(Routes.VIEW_CONVERSATION, conversationId);\n        });\n\n        PubSub.subscribe(Events.CREATE_CONVERSATION_WITH_USER, function(userId) {\n            show(root);\n            Router.go(Routes.VIEW_CONVERSATION, null, 'create', userId);\n        });\n\n        PubSub.subscribe(Events.SHOW_SETTINGS, function() {\n            show(root);\n            Router.go(Routes.VIEW_SETTINGS);\n        });\n\n        PubSub.subscribe(Events.PREFERENCES_UPDATED, function(preferences) {\n            var filteredPreferences = preferences.filter(function(preference) {\n                return preference.type == 'message_entertosend';\n            });\n            var enterToSendPreference = filteredPreferences.length ? filteredPreferences[0] : null;\n\n            if (enterToSendPreference) {\n                var viewConversationFooter = root.find(SELECTORS.FOOTER_CONTAINER).find(SELECTORS.VIEW_CONVERSATION);\n                viewConversationFooter.attr('data-enter-to-send', enterToSendPreference.value);\n            }\n        });\n    };\n\n    /**\n     * Initialise the message drawer.\n     *\n     * @param {Object} root The message drawer container.\n     */\n    var init = function(root) {\n        root = $(root);\n        createRoutes(root);\n        registerEventListeners(root);\n    };\n\n    return {\n        init: init,\n    };\n});\n"],"file":"message_drawer.min.js"}