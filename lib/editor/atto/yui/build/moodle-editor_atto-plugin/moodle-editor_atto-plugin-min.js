YUI.add("moodle-editor_atto-plugin",function(e,t){function n(){n.superclass.constructor.apply(this,arguments)}var r=".atto_group.",i="_group";e.extend(n,e.Base,{_buttonHandlers:[],editor:null,toolbar:null,name:null,initializer:function(e){this.editor=e.editor,this.toolbar=e.toolbar,this.name=e.name},addButton:function(t,n){var r=this.get("group"),i=this.name,s="atto_"+i+"_button",o=e.Node.create('<button class="'+s+'"'+'tabindex="-1" '+'title="'+e.Escape.html(M.util.get_string("pluginname","atto_"+i))+'">'+'<img class="icon" aria-hidden="true" role="presentation" width="16" height="16" src="'+t+'"/>'+"</button>");r.append(o);var u=this.toolbar.getAttribute("aria-activedescendant");return u||(o.setAttribute("tabindex","0"),this.toolbar.setAttribute("aria-activedescendant",o.generateID())),this._buttonHandlers.push(this.toolbar.delegate("click",n,"."+s,this)),o},addBasicButton:function(e){e.icon||(e.icon="e/"+e.exec),e.iconSource||(e.iconSource="core");var t=M.util.image_url(e.icon,e.iconSource);this.addButton(t,function(t){t.preventDefault(),this.isActive()&&this.focus(),document.execCommand(e.exec,!1,null),this.markUpdated()})},isActive:function(){return this.get("host").isActive()},focus:function(){return this.get("host").focus()},markUpdated:function(){return this.get("host").updateOriginal()}},{NAME:"editorPlugin",ATTRS:{host:{writeOnce:!0},group:{writeOnce:!0,getter:function(t){var n=this.toolbar,s=n.one(r+t+i);return s||(s=e.Node.create('<div class="atto_group '+t+i+'"></div>'),n.append(s)),s}}}}),e.namespace("M.editor_atto").EditorPlugin=n},"@VERSION@",{requires:["node","base","escape","event"]});
