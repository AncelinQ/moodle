<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Benchmarks</title>
    <script id="testheader" src="../../../../common/scripts/testheader.js"></script>
</head>
<body class="yui3-skin-sam">

<p><button id="start">Start Benchmarks</button></p>

<div id="log"></div>

<script>
window.onload = function() {
    add_benchmark_tools();
    var Y = YUI({
        modules: {
            'moodle-core-tooltip-benchmark': {
                fullpath: 'moodle-core-tooltip-benchmark.js',
                requires: ['moodle-core-tooltip']
            },
            'moodle-core-tooltip': {
                fullpath: '../../../../build/moodle-core-tooltip/moodle-core-tooltip.js',
                requires: ['base', 'io-base', 'moodle-core-notification', 'json-parse',
                'widget-position', 'widget-position-align', 'event-outside', 'cache']
            },
            'moodle-core-notification': {
                fullpath: '../../../../build/moodle-core-notification/moodle-core-notification.js',
                requires: ['base','node','panel','event-key', 'dd-plugin']
            }
        },
        useBrowserConsole: false
    }).use('moodle-core-tooltip-benchmark', 'test-console', 'console-filters', function (Y) {
        //new Y.Test.Console().render();
        var suite = Y.BenchmarkSuite,
            start = Y.one('#start');

        suite.on('start', function () {
            start.set('disabled', true);
            Y.log('Starting benchmarks.');
        });

        suite.on('cycle', function (bench) {
            Y.log(String(bench));
        });

        suite.on('complete', function () {
            start.set('disabled', false);
            Y.log('Finished.');
        });

        start.on('click', function () {
            suite.run(true);
        });
    });
}
</script>

</body>
</html>
