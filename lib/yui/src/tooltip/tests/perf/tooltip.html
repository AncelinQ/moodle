<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Benchmarks</title>
    <script id="testheader" src="../../../../yuitest/testheader.js"></script>
</head>
<body class="yui3-skin-sam">

<p><button id="start">Start Benchmarks</button></p>

<div id="log"></div>
<div id="test"></div>

<applet code="nano" archive="https://github.com/bestiejs/benchmark.js/raw/v1.0.0/nano.jar" style="display: none;"></applet>
<script src="http://pieisgood.org/misc/benchmark/benchmark.js"></script>

<script>
var Y = YUI({
    modules: {
        'moodle-core-tooltip-benchmark': {
            fullpath: 'moodle-core-tooltip-benchmark.js',
            requires: ['moodle-core-tooltip']
        },
        'moodle-core-tooltip': {
            fullpath: findBuildDirectory('lib', 'tooltip'),
            requires: ['base', 'io-base', 'moodle-core-notification', 'json-parse',
            'widget-position', 'widget-position-align', 'event-outside', 'cache']
        }
    },

    useBrowserConsole: true
}).use('moodle-core-tooltip-benchmark', 'test-console', function (Y) {
    new Y.Test.Console().render();
    var suite = Y.BenchmarkSuite,
        start = Y.one('#start');

    suite.on('start', function () {
        start.set('disabled', true);
        Y.log('Starting benchmarks.');
    });

    suite.on('cycle', function (bench) {
        Y.log(String(bench));
    });

    suite.on('complete', function () {
        start.set('disabled', false);
        Y.log('Finished.');
    });

    start.on('click', function () {
        suite.run(true);
    });
});
</script>

</body>
</html>
