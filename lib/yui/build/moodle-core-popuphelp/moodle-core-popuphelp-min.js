YUI.add("moodle-core-popuphelp",function(e,t){function n(){n.superclass.constructor.apply(this,arguments)}var r={CLICKABLELINKS:"span.helptooltip > a",FOOTER:"div.moodle-dialogue-ft"},i={ICON:"icon",ICONPRE:"icon-pre"},s={};n.NAME="moodle-core-popuphelp",n.ATTRS=s,e.extend(n,e.Base,{panel:null,initializer:function(){e.one("body").delegate("click",this.display_panel,r.CLICKABLELINKS,this),this.get("preventLazyLoading")&&e.use("moodle-core-tooltip")},display_panel:function(t){this.panel?this.panel.display_panel(t):(t.preventDefault(),e.use("moodle-core-tooltip",function(){this.panel=new M.core.tooltip({bodyhandler:this.set_body_content,footerhandler:this.set_footer,initialheadertext:M.util.get_string("loadinghelp","moodle"),initialfootertext:""}),this.panel.display_panel(t)}))},set_footer:function(t){t.doclink?(doclink=e.Node.create("<a />").setAttrs({href:t.doclink.link}).addClass(t.doclink["class"]),helpicon=e.Node.create("<img />").setAttrs({src:M.util.image_url("docs","core")}).addClass(i.ICON).addClass(i.ICONPRE),doclink.appendChild(helpicon),doclink.appendChild(t.doclink.linktext),this.set("footerContent",doclink),this.bb.one(r.FOOTER).show()):this.bb.one(r.FOOTER).hide()}},{ATTRS:{preventLazyLoading:{value:!1,writeOnce:!0}}}),M.core=M.core||{},M.core.popuphelp=M.core.popuphelp||null,M.core.init_popuphelp=M.core.init_popuphelp||function(e){return M.core.popuphelp||(M.core.popuphelp=new n(e)),M.core.popuphelp}},"@VERSION@",{requires:["base-base","base-build","node"]});
