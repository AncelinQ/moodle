YUI.add("moodle-core-lockscroll",function(e,t){e.namespace("Moodle.core").LockScroll=e.Base.create("lockScroll",e.Plugin.Base,[],{_events:null,_scrollNode:null,_scrollTop:0,_scrollLeft:0,initializer:function(){this._scrollNode=this._getScrollNode()},destructor:function(){this.disableScrollLock()},enableScrollLock:function(){if(this._events&&this._events.length>1)return;return this._scrollTop=this._scrollNode.get("scrollTop"),this._scrollLeft=this._scrollNode.get("scrollLeft"),this._events=[e.one(this._scrollNode).on("scroll",function(){this.forceScrollPosition()},this)],this.forceScrollPosition(),this},isActive:function(){return this._events&&this._events.length>0},forceScrollPosition:function(){return this._scrollNode.set("scrollTop",this._scrollTop).set("scrollLeft",this._scrollLeft),this},disableScrollLock:function(){return this.isActive()&&((new e.EventHandle(this._events)).detach(),this._events=null,this._scrollNode.set("scrollTop",this._scrollTop),this._scrollNode.set("scrollLeft",this._scrollLeft)),this},_getScrollNode:function(){var t;return e.UA.ie&&(e.config.doc[COMPAT_MODE]==="BackCompat"?t="documentElement":t="body"),t?e.one(e.config.doc[t]):e.one(e.config.doc)}},{NS:"lockScroll",ATTRS:{}})},"@VERSION@",{requires:["plugin","base-build"]});
