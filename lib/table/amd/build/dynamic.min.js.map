{"version":3,"sources":["../src/dynamic.js"],"names":["fetch","handler","uniqueid","sortby","sortorder","Repository","courseid","name","jointype","values","then","data","participantsList","document","querySelector","innerHTML","html","catch","window","console","log","init","root","addEventListener","e","target","matches","Selectors","sortablelink","preventDefault","sortableLink","closest","getAttribute"],"mappings":"wNAuBA,OACA,O,8TAEO,GAAMA,CAAAA,CAAK,CAAG,SAACC,CAAD,CAAUC,CAAV,CAAoBC,CAApB,CAA4BC,CAA5B,CAA0C,CAC3DC,CAAU,CAACL,KAAX,CAAiBC,CAAjB,CAA0BC,CAA1B,CAAoCC,CAApC,CAA4CC,CAA5C,CAAuD,CACnDE,QAAQ,CAAE,CACNC,IAAI,CAAE,UADA,CAENC,QAAQ,CAAE,CAFJ,CAGNC,MAAM,CAAE,CAAC,CAAD,CAHF,CADyC,CAAvD,EAOCC,IAPD,CAOM,SAAAC,CAAI,CAAI,CACV,GAAMC,CAAAA,CAAgB,CAAGC,QAAQ,CAACC,aAAT,CAAuB,WAAvB,CAAzB,CACAF,CAAgB,CAACG,SAAjB,CAA6BJ,CAAI,CAACK,IACrC,CAVD,EAWCC,KAXD,CAWOC,MAAM,CAACC,OAAP,CAAeC,GAXtB,CAYH,CAbM,C,iBAea,QAAPC,CAAAA,IAAO,CAACpB,CAAD,CAAUC,CAAV,CAAuB,CACvC,GAAMoB,CAAAA,CAAI,CAAGT,QAAQ,CAACC,aAAT,CAAuB,WAAvB,CAAb,CAEAQ,CAAI,CAACC,gBAAL,CAAsB,OAAtB,CAA+B,SAACC,CAAD,CAAO,CAClC,GAAIA,CAAC,CAACC,MAAF,CAASC,OAAT,CAAiBC,CAAS,CAACC,YAA3B,CAAJ,CAA8C,CAC1CJ,CAAC,CAACK,cAAF,GAEA,GAAIC,CAAAA,CAAY,CAAGN,CAAC,CAACC,MAAF,CAASM,OAAT,CAAiBJ,CAAS,CAACC,YAA3B,CAAnB,CACIzB,CAAM,CAAG2B,CAAY,CAACE,YAAb,CAA0B,aAA1B,CADb,CAEI5B,CAAS,CAAG0B,CAAY,CAACE,YAAb,CAA0B,gBAA1B,CAFhB,CAIAhC,CAAK,CAACC,CAAD,CAAUC,CAAV,CAAoBC,CAApB,CAA4BC,CAA5B,CAAL,CACAc,MAAM,CAACC,OAAP,CAAeC,GAAf,CAAmBhB,CAAnB,CACH,CACJ,CAXD,CAYH,C","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Module to handle dynamic table features.\n *\n * @module     core_table/dynamic\n * @package    core_table\n * @copyright  2020 Simey Lameze <simey@moodle.com>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\nimport * as Repository from 'core_table/local/dynamic/repository';\nimport * as Selectors from 'core_table/local/dynamic/selectors';\n\nexport const fetch = (handler, uniqueid, sortby, sortorder) => {\n    Repository.fetch(handler, uniqueid, sortby, sortorder, {\n        courseid: {\n            name: 'courseid',\n            jointype: 2,\n            values: [5]\n        }\n    })\n    .then(data => {\n        const participantsList = document.querySelector('.userlist');\n        participantsList.innerHTML = data.html;\n    })\n    .catch(window.console.log);\n};\n\nexport const init = (handler, uniqueid) => {\n    const root = document.querySelector('#userlist');\n\n    root.addEventListener('click', (e) => {\n        if (e.target.matches(Selectors.sortablelink)) {\n            e.preventDefault();\n\n            var sortableLink = e.target.closest(Selectors.sortablelink),\n                sortby = sortableLink.getAttribute('data-sortby'),\n                sortorder = sortableLink.getAttribute('data-sortorder');\n\n            fetch(handler, uniqueid, sortby, sortorder);\n            window.console.log(sortorder);\n        }\n    });\n};\n"],"file":"dynamic.min.js"}