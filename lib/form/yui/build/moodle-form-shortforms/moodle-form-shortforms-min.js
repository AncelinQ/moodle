YUI.add("moodle-form-shortforms",function(e,t){function n(e){n.superclass.constructor.apply(this,[e])}var r={FIELDSETCOLLAPSIBLE:"fieldset.collapsible",LEGENDFTOGGLER:"legend.ftoggler"},i={COLLAPSED:"collapsed",FHEADER:"fheader"},s={};n.NAME="moodle-form-shortforms",n.ATTRS=s,s.formid={value:null},e.extend(n,e.Base,{initializer:function(){var t=e.Node.all("#"+this.get("formid")+" "+r.FIELDSETCOLLAPSIBLE);t.each(this.process_fieldset,this),e.one("#"+this.get("formid")).delegate("click",this.switch_state,r.FIELDSETCOLLAPSIBLE+" ."+i.FHEADER)},process_fieldset:function(t){var n=t.one(r.LEGENDFTOGGLER),s=e.Node.create('<a href="#"></a>');s.addClass(i.FHEADER),s.appendChild(n.get("firstChild")),n.prepend(s)},switch_state:function(t){t.preventDefault();var n=this.ancestor(r.FIELDSETCOLLAPSIBLE);n.toggleClass(i.COLLAPSED);var s=e.one("input[name=mform_isexpanded_"+n.get("id")+"]");if(!s)return;s.set("value",Math.abs(Number(s.get("value"))-1))}}),M.form=M.form||{},M.form.shortforms=M.form.shortforms||function(e){return new n(e)}},"@VERSION@",{requires:["base","node","selector-css3"]});
